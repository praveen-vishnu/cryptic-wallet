<ion-header no-border>
  <ion-navbar>
    <ion-title text-center>
      <div class="logo logo--header">
        <img [src]="coin.imageUrl">
      </div>
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <div class="coin-title" text-center>{{coin.name}}</div>
  <small class="coin-market-cap" text-center>
    € {{coin.currencies.eur.marketcap | numberFormatter}}
  </small>
  <div class="coin-price" text-center>
    € {{coin.currencies.eur.price | numberFormatter: 'price'}}
  </div>
  <!-- TODO: fix formatting -->
  <div text-center class="price-change" [ngClass]="{'negative' : detectChange(coin.currencies.eur.change)}">
    {{coin.currencies.eur.change | numberFormatter: 'perc'}}%
  </div>
</ion-content>

<ion-footer>
  <div class="chart-segment">
    <ion-segment [(ngModel)]="chartMode" (ionChange)="chartModeChanged($event)">
      <ion-segment-button value="day">
        D
      </ion-segment-button>
      <ion-segment-button value="week">
        W
      </ion-segment-button>
      <ion-segment-button value="month">
        M
      </ion-segment-button>
      <ion-segment-button value="year">
        Y
      </ion-segment-button>
      <ion-segment-button value="all">
        All
      </ion-segment-button>
    </ion-segment>
  </div>
  <div class="chart-timestamp" text-center><span class="date">{{priceDate}}</span></div>

  <!--<div class="chart-wrapper">-->
  <!--TODO Fix api with subclassing-->
  <!--<ngx-chart [data]="data" (price)="updatePrice($event)" (date)="updateDate($event)"></ngx-chart>-->
  <chartjs [data]="data" (price)="updatePrice($event)" (date)="updateDate($event)"></chartjs>
  <!--</div>-->
</ion-footer>
