<ion-header>

  <ion-navbar>
    <ion-title>{{coin.name}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col col-3>
        <div class="logo">
          <img [src]="coin.imageUrl">
        </div>
      </ion-col>
      <ion-col col-9 text-right>
        <h1>â‚¬ {{coin.currencies.eur.price | numberFormatter: 'price'}}</h1> <!-- TODO: fix formatting -->
        <div class="priceChange" [ngClass]="{'negative' : detectChange(coin.currencies.eur.change)}">
          {{coin.currencies.eur.change | numberFormatter: 'perc'}}%
        </div>
        <div>
          {{coin.currencies.eur.marketcap | numberFormatter}}
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>

<ion-footer>
  <div class="chart-segment" padding>
    <ion-segment [(ngModel)]="chartMode" (ionChange)="chartModeChanged($event)">
      <ion-segment-button value="day">
        D
      </ion-segment-button>
      <ion-segment-button value="week">
        W
      </ion-segment-button>
      <ion-segment-button value="month">
        M
      </ion-segment-button>
      <ion-segment-button value="year">
        Y
      </ion-segment-button>
      <ion-segment-button value="all">
        All
      </ion-segment-button>
    </ion-segment>
  </div>

  <div padding text-right>{{timestamp}}</div>
  <div class="chart-wrapper">
    <!--TODO Fix api with subclassing-->
    <!--<ngx-chart [data]="data" (price)="updatePrice($event)" (date)="updateDate($event)"></ngx-chart>-->
    <chartjs [data]="data" (price)="updatePrice($event)" (date)="updateDate($event)"></chartjs>
  </div>
</ion-footer>
