<ion-header>
  <ion-navbar>
    <ion-title>CryptoMoon</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingText="Pull to refresh"
                           refreshingSpinner="crescent"
                           refreshingText="Refreshing..."></ion-refresher-content>
  </ion-refresher>
  <ion-list-header text-right>
    {{coinListLength}} coins
  </ion-list-header>
  <ion-list [virtualScroll]="coins" [virtualTrackBy]="trackByCoin" no-lines>
    <ion-item-sliding *virtualItem="let coin">
      <button ion-item (click)="goToDetailPage(coin)" detail-none>
        <ion-avatar class="logo" item-start>
          <ion-img [src]="coin.imageUrl" [alt]="coin.name"></ion-img>
        </ion-avatar>
        <ion-label>
          {{coin.name}}
        </ion-label>
        <div item-content>
          <div>{{coin.currencies.eur.price}}</div>
          <small class="priceChange" [ngClass]="{'negative' : detectChange(coin.currencies.eur.change)}" float-end>
            {{coin.currencies.eur.change}}%
          </small>
        </div>
      </button>
      <ion-item-options>
        <button ion-button color="primary">
          <ion-icon name="star" item-start></ion-icon>
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>
